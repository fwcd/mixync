# Mixync

Like `rsync` but for Mixxx databases and music.

> **NOTE: The project is still in very early stages, so please make sure to back up your mixxxdb and your music before trying it.**

```
+-------------------+
|    Your local     |
|  mixxxdb.sqlite   |   <--+                +--------------------------+
+-------------------+      |                | A portable mixxxlib with |
                           +--> mixync <--> |  all your tracks, cues,  |
+-------------------+      |                | grids and other metadata |
|    Your local     |   <--+                +--------------------------+
|   music folders   |
+-------------------+
```

A small CLI tool for copying a Mixxx database along with tracks to and from a portable folder (`*.mixxxlib`) for archival, storage on a flash drive, a web server, etc.

## Usage

All invocations of `mixync` follow the same pattern, roughly analogous to `rsync` or `cp`:

```sh
mixync [source] [dest]
```

where `source` and `dest` are so-called _refs_, which describe a store for metadata and music. Each ref can be one of the following:

- A local mixxxdb, e.g. `@local`, `path/to/mixxxdb.sqlite`
- A portable mixxxlib, e.g. `path/to/library.mixxxlib`

For example:

```sh
# Copy your local mixxxdb and music to a portable mixxxlib
mixync @local ~/my-library.mixxxlib
```

```sh
# Copy a portable mixxxlib to your local mixxxdb and music folders
mixync ~/my-library.mixxxlib @local
```

## Mixxxlib Structure

A portable `mixxxlib` (a new format introduced by this tool) as generated by `mixync` has the following directory structure:

```
my-library.mixxxlib
- mixxxdb.portable.sqlite   <- Mixxx database, but with relative paths, etc.
- folder1                   <- Exported music folder
  - track1.mp3
  - track2.mp3
    ...
- folder2                   <- Exported music folder
  - track1.mp3
  - track2.mp3
    ...
```

> Note that while `mixxxdb.portable.sqlite` uses a schema that is very similar (large identical) to the actual mixxxdb, it cannot be directly copied to the `.mixxx` config directory due to the use of relative paths.
